CC = g++
CFLAGS = -Wall -Wextra -pedantic -std=c++11 -I./actualcatflap/.pio/libdeps/esp32dev
LDFLAGS = -lgtest -lgtest_main

# Target for compiling the test executable
test: test_catflap.cpp catflap.h
    $(CC) $(CFLAGS) -o test test_catflap.cpp $(LDFLAGS)

# Target for running the tests
run_tests: test
    ./test

.PHONY: test run_tests